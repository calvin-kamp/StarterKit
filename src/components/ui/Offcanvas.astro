---
import Button from "@components/ui/Button.astro";
import '@styles/components/ui/_offcanvas.scss';

const {
    id = '',
    orientation = 'right',
    ariaLabel = null,
    additionalClasses = ''
} = Astro.props;

const offcanvasClass = `offcanvas offcanvas--${orientation} offcanvas--id-${id} ${additionalClasses}`;

const dynamicAriaAttributes = {
    ...(ariaLabel ? { 'aria-label': ariaLabel } : { 'aria-label': 'Modal' })
};
---

<div
    class={offcanvasClass}
    data-js="offcanvas"
    data-offcanvas-id={id}
    role="dialog"
    { ...dynamicAriaAttributes }
>
    <div class="offcanvas__wrapper">
        <div class="offcanvas__header">
            <slot name="offcanvas-header"/>

            <Button 
                additionalClasses="button--close"
                closeOffcanvas
                ariaLabel="Offcanvas schlieÃŸen"
            />
        </div>

        <div class="offcanvas__content" data-offcanvas-body>
            <slot/>
        </div>
    </div>
</div>

<script>
    import { offcanvas } from "@scripts/ui/offcanvas";
    offcanvas.init();
</script>
